package org.bandtracker.main;

import org.bandtracker.hibernate.entity.Booking;
import org.bandtracker.hibernate.entity.Show;
import org.bandtracker.hibernate.entity.User;
import org.hibernate.SessionFactory;
import org.hibernate.boot.registry.StandardServiceRegistryBuilder;
import org.hibernate.cfg.Configuration;
import org.hibernate.service.ServiceRegistry;

public class Main {

	public static void main(String[] args) {
		
	    SessionFactory factory = null;
	    
	        if (factory == null) {
	            // loads configuration and mappings
	            Configuration configuration = new Configuration().configure()
	            		.addAnnotatedClass(User.class)
	            		.addAnnotatedClass(Show.class)
	            		.addAnnotatedClass(Booking.class);
	            ServiceRegistry serviceRegistry
	                = new StandardServiceRegistryBuilder()
	                    .applySettings(configuration.getProperties()).build();
	             
	            // builds a session factory from the service registry
	            factory = configuration.buildSessionFactory(serviceRegistry);           
	        }
	}

}
